---
layout:     post
title:      Hook学习
subtitle:   kxctf中碰到了这个机制，不会，wp都看不懂
date:       2018-12-28
author:     gxkyrftx
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - Hook
    - c++
---

# 0x01 Hook是什么

Hook，是Windows消息处理机制的一个平台，应用程序可以在上面设置子程序以监视指定窗口的某种消息，而且所监视的窗口可以是其他进程所创建的。当消息到达后，在目标窗口处理函数之前处理它。钩子机制允许应用程序截获处理window消息或特定事件。
钩子实际上是一个处理消息的程序段，通过系统调用，把它挂入系统。每当特定的消息发出，在没有到达目的窗口前，钩子程序就先捕获该消息，亦即钩子函数先得到控制权。这时钩子函数即可以加工处理（改变）该消息，也可以不作处理而继续传递该消息，还可以强制结束消息的传递。

划重点：监视某程序，等一个事件发生，在正常的应该处理这个事件的动作之前，先进行捕获，hook函数先执行这个事件。

