---
layout:     post
title:      è®ºæ–‡
subtitle:   gethå®¢æˆ·ç«¯
date:       2020-3-19 
author:     gxkyrftx
header-img: img/post-bg-unix-linux.jpg
catalog: true
tags:
    - ä»¥å¤ªåŠ
---
# 1.å‡†å¤‡å·¥ä½œ

æ‰€ç”¨çŽ¯å¢ƒï¼šwindows 7 64bits

å®‰è£…gethï¼šhttps://ethfans.org/wikis/Ethereum-Geth-Mirror

# 2.æ­å»ºç§æœ‰é“¾çš„æ­¥éª¤

## 2.1 å¯åŠ¨ç§æœ‰é“¾ï¼Œåˆ›å»ºå¸æˆ·

cmdè¿›å…¥gethå®‰è£…ç›®å½•

geth --datadir chain1 --nodiscover console

è¿›å…¥gethæŽ§åˆ¶å°æ¨¡å¼ï¼Œå…¶ä¸­chain1ä¸ºå¸æˆ·å’ŒåŒºå—æ•°æ®ç›®å½•ï¼Œåœ¨chain1ç›®å½•ä¸‹ï¼Œgeth/chaindataç›®å½•ä¸­å­˜æ”¾çš„æ˜¯åŒºå—æ•°æ®ï¼Œkeystoreå­˜æ”¾çš„æ˜¯è´¦æˆ·æ•°æ®

éšåŽè¿›å…¥ä¸€ä¸ªäº¤äº’å¼Javascriptæ‰§è¡ŒçŽ¯å¢ƒï¼Œè¿™äº›å¯¹è±¡ä¸»è¦åŒ…æ‹¬ï¼š

- ethï¼šåŒ…å«ä¸€äº›è·Ÿ**æ“ä½œåŒºå—é“¾**ç›¸å…³çš„æ–¹æ³•
- netï¼šåŒ…å«ä»¥ä¸‹**æŸ¥çœ‹p2pç½‘ç»œ**çŠ¶æ€çš„æ–¹æ³•
- adminï¼šåŒ…å«ä¸€äº›ä¸Ž**ç®¡ç†èŠ‚ç‚¹ç›¸å…³**çš„æ–¹æ³•
- minerï¼šåŒ…å«**å¯åŠ¨&åœæ­¢æŒ–çŸ¿**çš„ä¸€äº›æ–¹æ³•
- personalï¼šä¸»è¦åŒ…å«ä¸€äº›**ç®¡ç†è´¦æˆ·**çš„æ–¹æ³•
- txpoolï¼šåŒ…å«ä¸€äº›**æŸ¥çœ‹äº¤æ˜“å†…å­˜æ± **çš„æ–¹æ³•
- web3ï¼š**åŒ…å«äº†ä»¥ä¸Šå¯¹è±¡ï¼Œè¿˜åŒ…å«ä¸€äº›å•ä½æ¢ç®—çš„æ–¹æ³•**

ä¸‹é¢åˆ›å»ºä¸¤ä¸ªå¸æˆ·ï¼Œå…¶ä¸­1234ä¸ºå¯†ç ï¼š

```text
> personal.newAccount("1234")
"0x8f653457d24796d1324149ecc7d5dfe0671d6c1b"
> personal.newAccount("1234")
"0x85366308dab822e97d896552f330e73ef6f20b14"
```

eth.getBalance(å‚æ•°) å‘½ä»¤å¯ä»¥ç”¨äºŽèŽ·å–å¸æˆ·ä½™é¢ï¼Œä¸Šè¿°ä¸¤ä¸ªå¸æˆ·ç›®å‰ä½™é¢éƒ½æ˜¯0.

eth.accountså‘½ä»¤æŸ¥çœ‹çŽ°æœ‰å¸æˆ·ï¼Œå½“å‰æ˜¯ç©ºã€‚

```text
> eth.accounts
["0x8f653457d24796d1324149ecc7d5dfe0671d6c1b", "0x85366308dab822e97d896552f330e73ef6f20b14"]
> eth.getBalance(eth.accounts[0])
999000000000000000000
```

## 2.2 åˆ›å»ºåˆ›ä¸–å—

åœ¨gethç›®å½•ä¸‹æ–°å»ºgensis.jsonæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```text
{
   "alloc": {
      "0x8f653457d24796d1324149ecc7d5dfe0671d6c1b": {
      "balance": "999000000000000000000"
      }
   },
    "config":{
        "chainId":10,
        "homesteadBlock":0,
        "eip155Block":0,
        "eip158Block":0
    },
    "nonce":"0x0000000000000042",
    "mixhash":"0x0000000000000000000000000000000000000000000000000000000000000000",
    "difficulty": "0x2000",
    "alloc": {},
    "coinbase":"0x0000000000000000000000000000000000000000",
    "timestamp": "0x00",
    "parentHash":"0x0000000000000000000000000000000000000000000000000000000000000000",
    "extraData": "",
    "gasLimit":"0xffffffff"
}
```

æ³¨æ„ï¼šä½ éœ€è¦ä¿®æ”¹ä¸Šè¿°allocä¸­çš„å¸æˆ·åœ°å€ï¼Œè¦ç”¨ä½ è‡ªå·±æœºå™¨ä¸Šç¬¬ä¸€æ­¥éª¤ä¸­å®žé™…åˆ›å»ºçš„å¸æˆ·åœ°å€ã€‚

balanceå€¼æœ‰å¾ˆå¤š0ï¼Œå…¶å®žåªæœ‰999ä¸ªä»¥å¤ªå¸ã€‚

å„ä¸ªå‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š

- mixhashï¼šä¸Žnonceé…åˆç”¨äºŽæŒ–çŸ¿ï¼Œç”±ä¸Šä¸€ä¸ªåŒºå—çš„ä¸€éƒ¨åˆ†ç”Ÿæˆçš„hashã€‚æ³¨æ„ä»–å’Œnonceçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„Yellow paper, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚.
- nonce: nonceå°±æ˜¯ä¸€ä¸ª64ä½éšæœºæ•°ï¼Œç”¨äºŽæŒ–çŸ¿ï¼Œæ³¨æ„ä»–å’Œmixhashçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„Yellow paper, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚
- difficulty: è®¾ç½®å½“å‰åŒºå—çš„éš¾åº¦ï¼Œå¦‚æžœéš¾åº¦è¿‡å¤§ï¼ŒcpuæŒ–çŸ¿å°±å¾ˆéš¾ï¼Œè¿™é‡Œè®¾ç½®è¾ƒå°éš¾åº¦
- alloc: ç”¨æ¥é¢„ç½®è´¦å·ä»¥åŠè´¦å·çš„ä»¥å¤ªå¸æ•°é‡ï¼Œå› ä¸ºç§æœ‰é“¾æŒ–çŸ¿æ¯”è¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é¢„ç½®æœ‰å¸çš„è´¦å·ï¼Œéœ€è¦çš„æ—¶å€™è‡ªå·±åˆ›å»ºå³å¯ä»¥ã€‚
- coinbase: çŸ¿å·¥çš„è´¦å·ï¼Œéšä¾¿å¡«
- timestamp: è®¾ç½®åˆ›ä¸–å—çš„æ—¶é—´æˆ³
- parentHash: ä¸Šä¸€ä¸ªåŒºå—çš„hashå€¼ï¼Œå› ä¸ºæ˜¯åˆ›ä¸–å—ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æ˜¯0
- extraData: é™„åŠ ä¿¡æ¯ï¼Œéšä¾¿å¡«ï¼Œå¯ä»¥å¡«ä½ çš„ä¸ªæ€§ä¿¡æ¯
- gasLimit: è¯¥å€¼è®¾ç½®å¯¹GASçš„æ¶ˆè€—æ€»é‡é™åˆ¶ï¼Œç”¨æ¥é™åˆ¶åŒºå—èƒ½åŒ…å«çš„äº¤æ˜“ä¿¡æ¯æ€»å’Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç§æœ‰é“¾ï¼Œæ‰€ä»¥å¡«æœ€å¤§ã€‚



ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºåˆ›ä¸–å—ï¼š

```text
geth --datadir chain1 init genesis.json
```

è‹¥å‡ºçŽ°é”™è¯¯æç¤ºå¦‚ä¸‹ï¼š

```text
Fatal: Failed to write genesis block: database already contains an incompatible genesis block
```

åŽŸå› æ˜¯å‰é¢å¯åŠ¨ç§æœ‰é“¾æ—¶å€™å·²ç»åˆ›å»ºäº†é»˜è®¤çš„åˆ›ä¸–å—ã€‚

éœ€è¦å…ˆåˆ é™¤åŽŸæ¥åˆ›ä¸–å—ï¼Œå¦‚ä¸‹ï¼š

```
geth removedb --datadir chain1
```

ç„¶åŽå†æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯åˆ›å»ºåˆ›ä¸–å—æˆåŠŸã€‚

```
geth --datadir chain1 init genesis.json
```

å¦‚ä¸‹å‘½ä»¤å†æ¬¡è¿›å…¥gethæŽ§åˆ¶å°

```
geth --datadir chain1 --nodiscover console
```

ç”¨eth.getBalanceå¯ä»¥æŸ¥çœ‹åˆ°å¸æˆ·0çŽ°åœ¨çš„ä½™é¢æ˜¯999ä»¥å¤ªå¸ã€‚

```text
> eth.accounts
["0xc9228294cc6bc3e3fcdba0f5d393d68f920c7789", "0x5f0880e6c3507f609548732151a99f6ddc71cb95"]
> eth.getBalance(eth.accounts[0])
999000000000000000000
> web3.fromWei(eth.getBalance(eth.accounts[0]))
999
```

æ³¨ï¼šWeiæ˜¯ä»¥å¤ªå¸çš„æœ€å°å•ä½ï¼Œweb3.fromWeiå‡½æ•°å¯ä»¥æŠŠWeiå•ä½è½¬æ¢æˆä»¥å¤ªå¸å•ä½ã€‚

## 2.3 è½¬è´¦äº¤æ˜“

ä»Žå¸æˆ·0è½¬10ä¸ªä»¥å¤ªå¸åˆ°å¸æˆ·1

ä»˜æ¬¾å¸æˆ·åœ¨è½¬è´¦å‰ï¼Œéœ€è¦ç”¨personal.unlockAccountå‘½ä»¤è¿›è¡Œè§£é”ã€‚

```
> eth.accounts
["0x8f653457d24796d1324149ecc7d5dfe0671d6c1b", "0x85366308dab822e97d896552f330e73ef6f20b14"]
> eth.getBalance(eth.accounts[0])
999000000000000000000
> web3.fromWei(eth.getBalance(eth.accounts[0]))
999
> a0=eth.accounts[0]
"0x8f653457d24796d1324149ecc7d5dfe0671d6c1b"
> a1=eth.accounts[1]
"0x85366308dab822e97d896552f330e73ef6f20b14"
> personal.unlockAccount(a0,"1234")
true
> eth.sendTransaction({from:a0, to:a1, value:web3.toWei(10,"ether")})
INFO [03-19|20:56:58] Submitted transaction                    fullhash=0x33e4427b79e1b43e0ecfecaff2a33aa1984d51d090c2b8
c88d6a742f3982c9c3 recipient=0x85366308dAB822e97D896552F330E73Ef6f20B14
"0x33e4427b79e1b43e0ecfecaff2a33aa1984d51d090c2b8c88d6a742f3982c9c3"
> eth.getBalance(a0)
999000000000000000000
> eth.getBalance(a1)
0
```

æ­¤æ—¶è½¬è´¦äº¤æ˜“å¹¶æœªç”Ÿæ•ˆï¼Œå› ä¸ºè¿™ç¬”äº¤æ˜“æ²¡æœ‰ç»è¿‡åŒºå—çš„ç¡®è®¤ï¼Œéœ€è¦å…ˆæ‰“åŒ…ä¸ºåŒºå—ï¼Œç„¶åŽå½¢æˆé“¾æ‰èƒ½ç”Ÿæ•ˆ

## 2.4 æŒ–çŸ¿

é‡æ–°å¯åŠ¨ä¸€ä¸ªcmdæ–°æŽ§åˆ¶å°æ¥æŒ–çŸ¿ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤æ¥attachåˆ°å·²å¯åŠ¨çš„ç§æœ‰é“¾ä¸Š

```
geth attach \\.\pipe\geth.ipc
```

miner.start()å‘½ä»¤å¯åŠ¨æŒ–çŸ¿ï¼Œåœ¨ç¬¬ä¸€ä¸ªcmdçª—å£ä¼šçœ‹åˆ°æŒ–çŸ¿æˆåŠŸçš„ä¿¡æ¯ã€‚

```
> INFO [03-19|20:57:41] Updated mining threads                   threads=0
INFO [03-19|20:57:41] Transaction pool price threshold updated price=18000000000
INFO [03-19|20:57:41] Starting mining operation
INFO [03-19|20:57:41] Commit new mining work                   number=1 txs=1 uncles=0 elapsed=0s
INFO [03-19|20:57:46] Generating DAG in progress               epoch=0 percentage=0 elapsed=3.670s
INFO [03-19|20:57:49] Generating DAG in progress               epoch=0 percentage=1 elapsed=7.111s
INFO [03-19|20:57:53] Generating DAG in progress               epoch=0 percentage=2 elapsed=10.561s
INFO [03-19|20:57:56] Generating DAG in progress               epoch=0 percentage=3 elapsed=14.222s
INFO [03-19|20:58:00] Generating DAG in progress               epoch=0 percentage=4 elapsed=17.669s
INFO [03-19|20:58:03] Generating DAG in progress               epoch=0 percentage=5 elapsed=21.203s
INFO [03-19|20:58:07] Generating DAG in progress               epoch=0 percentage=6 elapsed=24.680s
INFO [03-19|20:58:11] Generating DAG in progress               epoch=0 percentage=7 elapsed=28.316s
INFO [03-19|20:58:14] Generating DAG in progress               epoch=0 percentage=8 elapsed=31.856s
INFO [03-19|20:58:18] Generating DAG in progress               epoch=0 percentage=9 elapsed=35.554s
INFO [03-19|20:58:22] Generating DAG in progress               epoch=0 percentage=10 elapsed=39.561s
INFO [03-19|20:58:26] Generating DAG in progress               epoch=0 percentage=11 elapsed=43.722s
INFO [03-19|20:58:29] Generating DAG in progress               epoch=0 percentage=12 elapsed=47.273s
INFO [03-19|20:58:33] Generating DAG in progress               epoch=0 percentage=13 elapsed=50.713s
INFO [03-19|20:58:36] Generating DAG in progress               epoch=0 percentage=14 elapsed=54.117s
INFO [03-19|20:58:40] Generating DAG in progress               epoch=0 percentage=15 elapsed=57.516s
INFO [03-19|20:58:43] Generating DAG in progress               epoch=0 percentage=16 elapsed=1m0.981s
INFO [03-19|20:58:47] Generating DAG in progress               epoch=0 percentage=17 elapsed=1m4.380s
INFO [03-19|20:58:50] Generating DAG in progress               epoch=0 percentage=18 elapsed=1m7.972s
INFO [03-19|20:58:54] Generating DAG in progress               epoch=0 percentage=19 elapsed=1m11.486s
INFO [03-19|20:58:57] Generating DAG in progress               epoch=0 percentage=20 elapsed=1m15.075s
INFO [03-19|20:59:01] Generating DAG in progress               epoch=0 percentage=21 elapsed=1m18.574s
INFO [03-19|20:59:04] Generating DAG in progress               epoch=0 percentage=22 elapsed=1m22.148s
INFO [03-19|20:59:08] Generating DAG in progress               epoch=0 percentage=23 elapsed=1m25.700s
INFO [03-19|20:59:11] Generating DAG in progress               epoch=0 percentage=24 elapsed=1m29.167s
INFO [03-19|20:59:15] Generating DAG in progress               epoch=0 percentage=25 elapsed=1m32.871s
INFO [03-19|20:59:18] Generating DAG in progress               epoch=0 percentage=26 elapsed=1m36.281s
INFO [03-19|20:59:22] Generating DAG in progress               epoch=0 percentage=27 elapsed=1m39.679s
INFO [03-19|20:59:25] Generating DAG in progress               epoch=0 percentage=28 elapsed=1m43.101s
INFO [03-19|20:59:29] Generating DAG in progress               epoch=0 percentage=29 elapsed=1m46.461s
INFO [03-19|20:59:32] Generating DAG in progress               epoch=0 percentage=30 elapsed=1m49.834s
INFO [03-19|20:59:35] Generating DAG in progress               epoch=0 percentage=31 elapsed=1m53.248s
INFO [03-19|20:59:39] Generating DAG in progress               epoch=0 percentage=32 elapsed=1m57.132s
INFO [03-19|20:59:43] Generating DAG in progress               epoch=0 percentage=33 elapsed=2m0.561s
INFO [03-19|20:59:46] Generating DAG in progress               epoch=0 percentage=34 elapsed=2m4.276s
INFO [03-19|20:59:50] Generating DAG in progress               epoch=0 percentage=35 elapsed=2m8.024s
INFO [03-19|20:59:54] Generating DAG in progress               epoch=0 percentage=36 elapsed=2m11.638s
INFO [03-19|20:59:58] Generating DAG in progress               epoch=0 percentage=37 elapsed=2m15.361s
INFO [03-19|21:00:01] Generating DAG in progress               epoch=0 percentage=38 elapsed=2m18.914s
INFO [03-19|21:00:05] Generating DAG in progress               epoch=0 percentage=39 elapsed=2m22.328s
INFO [03-19|21:00:08] Generating DAG in progress               epoch=0 percentage=40 elapsed=2m25.672s
INFO [03-19|21:00:11] Generating DAG in progress               epoch=0 percentage=41 elapsed=2m29.057s
INFO [03-19|21:00:15] Generating DAG in progress               epoch=0 percentage=42 elapsed=2m32.500s
INFO [03-19|21:00:18] Generating DAG in progress               epoch=0 percentage=43 elapsed=2m36.077s
INFO [03-19|21:00:22] Generating DAG in progress               epoch=0 percentage=44 elapsed=2m39.457s
INFO [03-19|21:00:25] Generating DAG in progress               epoch=0 percentage=45 elapsed=2m43.231s
INFO [03-19|21:00:29] Generating DAG in progress               epoch=0 percentage=46 elapsed=2m46.880s
INFO [03-19|21:00:32] Generating DAG in progress               epoch=0 percentage=47 elapsed=2m50.262s
INFO [03-19|21:00:36] Generating DAG in progress               epoch=0 percentage=48 elapsed=2m53.633s
INFO [03-19|21:00:39] Generating DAG in progress               epoch=0 percentage=49 elapsed=2m56.956s
INFO [03-19|21:00:43] Generating DAG in progress               epoch=0 percentage=50 elapsed=3m0.311s
INFO [03-19|21:00:46] Generating DAG in progress               epoch=0 percentage=51 elapsed=3m3.655s
INFO [03-19|21:00:49] Generating DAG in progress               epoch=0 percentage=52 elapsed=3m7.224s
INFO [03-19|21:00:53] Generating DAG in progress               epoch=0 percentage=53 elapsed=3m10.674s
INFO [03-19|21:00:56] Generating DAG in progress               epoch=0 percentage=54 elapsed=3m14.111s
INFO [03-19|21:01:00] Generating DAG in progress               epoch=0 percentage=55 elapsed=3m17.773s
INFO [03-19|21:01:04] Generating DAG in progress               epoch=0 percentage=56 elapsed=3m21.498s
INFO [03-19|21:01:07] Generating DAG in progress               epoch=0 percentage=57 elapsed=3m25.233s
INFO [03-19|21:01:11] Generating DAG in progress               epoch=0 percentage=58 elapsed=3m28.753s
INFO [03-19|21:01:15] Generating DAG in progress               epoch=0 percentage=59 elapsed=3m32.452s
INFO [03-19|21:01:18] Generating DAG in progress               epoch=0 percentage=60 elapsed=3m35.963s
INFO [03-19|21:01:22] Generating DAG in progress               epoch=0 percentage=61 elapsed=3m39.525s
INFO [03-19|21:01:26] Generating DAG in progress               epoch=0 percentage=62 elapsed=3m43.419s
INFO [03-19|21:01:29] Generating DAG in progress               epoch=0 percentage=63 elapsed=3m47.084s
INFO [03-19|21:01:33] Generating DAG in progress               epoch=0 percentage=64 elapsed=3m50.621s
INFO [03-19|21:01:36] Generating DAG in progress               epoch=0 percentage=65 elapsed=3m54.261s
INFO [03-19|21:01:40] Generating DAG in progress               epoch=0 percentage=66 elapsed=3m58.004s
INFO [03-19|21:01:44] Generating DAG in progress               epoch=0 percentage=67 elapsed=4m2.181s
INFO [03-19|21:01:48] Generating DAG in progress               epoch=0 percentage=68 elapsed=4m5.814s
INFO [03-19|21:01:52] Generating DAG in progress               epoch=0 percentage=69 elapsed=4m9.570s
INFO [03-19|21:01:56] Generating DAG in progress               epoch=0 percentage=70 elapsed=4m13.618s
INFO [03-19|21:01:59] Generating DAG in progress               epoch=0 percentage=71 elapsed=4m17.241s
INFO [03-19|21:02:03] Generating DAG in progress               epoch=0 percentage=72 elapsed=4m20.767s
INFO [03-19|21:02:06] Generating DAG in progress               epoch=0 percentage=73 elapsed=4m24.200s
INFO [03-19|21:02:10] Generating DAG in progress               epoch=0 percentage=74 elapsed=4m27.677s
INFO [03-19|21:02:13] Generating DAG in progress               epoch=0 percentage=75 elapsed=4m31.238s
INFO [03-19|21:02:17] Generating DAG in progress               epoch=0 percentage=76 elapsed=4m34.766s
INFO [03-19|21:02:20] Generating DAG in progress               epoch=0 percentage=77 elapsed=4m38.154s
INFO [03-19|21:02:24] Generating DAG in progress               epoch=0 percentage=78 elapsed=4m41.602s
INFO [03-19|21:02:27] Generating DAG in progress               epoch=0 percentage=79 elapsed=4m45.045s
INFO [03-19|21:02:31] Generating DAG in progress               epoch=0 percentage=80 elapsed=4m48.545s
INFO [03-19|21:02:34] Generating DAG in progress               epoch=0 percentage=81 elapsed=4m52.027s
INFO [03-19|21:02:38] Generating DAG in progress               epoch=0 percentage=82 elapsed=4m55.438s
INFO [03-19|21:02:41] Generating DAG in progress               epoch=0 percentage=83 elapsed=4m59.112s
INFO [03-19|21:02:45] Generating DAG in progress               epoch=0 percentage=84 elapsed=5m2.789s
INFO [03-19|21:02:48] Generating DAG in progress               epoch=0 percentage=85 elapsed=5m6.294s
INFO [03-19|21:02:52] Generating DAG in progress               epoch=0 percentage=86 elapsed=5m10.112s
INFO [03-19|21:02:56] Generating DAG in progress               epoch=0 percentage=87 elapsed=5m13.727s
INFO [03-19|21:02:59] Generating DAG in progress               epoch=0 percentage=88 elapsed=5m17.246s
INFO [03-19|21:03:03] Generating DAG in progress               epoch=0 percentage=89 elapsed=5m21.279s
INFO [03-19|21:03:07] Generating DAG in progress               epoch=0 percentage=90 elapsed=5m24.986s
INFO [03-19|21:03:11] Generating DAG in progress               epoch=0 percentage=91 elapsed=5m28.720s
INFO [03-19|21:03:14] Generating DAG in progress               epoch=0 percentage=92 elapsed=5m32.178s
INFO [03-19|21:03:18] Generating DAG in progress               epoch=0 percentage=93 elapsed=5m35.590s
INFO [03-19|21:03:21] Generating DAG in progress               epoch=0 percentage=94 elapsed=5m39.017s
INFO [03-19|21:03:25] Generating DAG in progress               epoch=0 percentage=95 elapsed=5m42.592s
INFO [03-19|21:03:28] Generating DAG in progress               epoch=0 percentage=96 elapsed=5m45.997s
INFO [03-19|21:03:32] Generating DAG in progress               epoch=0 percentage=97 elapsed=5m49.503s
INFO [03-19|21:03:35] Generating DAG in progress               epoch=0 percentage=98 elapsed=5m52.971s
INFO [03-19|21:03:39] Generating DAG in progress               epoch=0 percentage=99 elapsed=5m56.501s
INFO [03-19|21:03:39] Generated ethash verification cache      epoch=0 elapsed=5m56.506s
INFO [03-19|21:03:44] Successfully sealed new block            number=1 hash=5d37e3â€¦aaa433
INFO [03-19|21:03:44] ðŸ”¨ mined potential block                  number=1 hash=5d37e3â€¦aaa433
INFO [03-19|21:03:44] Commit new mining work                   number=2 txs=0 uncles=0 elapsed=1.000ms
INFO [03-19|21:03:45] Successfully sealed new block            number=2 hash=4d4da9â€¦078c0b
INFO [03-19|21:03:45] ðŸ”¨ mined potential block                  number=2 hash=4d4da9â€¦078c0b
INFO [03-19|21:03:45] Commit new mining work                   number=3 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:03:48] Successfully sealed new block            number=3 hash=a39baeâ€¦efb2a7
INFO [03-19|21:03:48] ðŸ”¨ mined potential block                  number=3 hash=a39baeâ€¦efb2a7
INFO [03-19|21:03:48] Commit new mining work                   number=4 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:03:48] Generating DAG in progress               epoch=1 percentage=0  elapsed=7.375s
INFO [03-19|21:03:53] Successfully sealed new block            number=4 hash=2dcbfbâ€¦0027ea
INFO [03-19|21:03:53] ðŸ”¨ mined potential block                  number=4 hash=2dcbfbâ€¦0027ea
INFO [03-19|21:03:53] Commit new mining work                   number=5 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:03:56] Generating DAG in progress               epoch=1 percentage=1  elapsed=14.670s
INFO [03-19|21:03:59] Successfully sealed new block            number=5 hash=73695bâ€¦ff4045
INFO [03-19|21:03:59] ðŸ”¨ mined potential block                  number=5 hash=73695bâ€¦ff4045
INFO [03-19|21:03:59] Commit new mining work                   number=6 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:03] Generating DAG in progress               epoch=1 percentage=2  elapsed=21.786s
INFO [03-19|21:04:06] Successfully sealed new block            number=6 hash=8d31e5â€¦3e8f3d
INFO [03-19|21:04:06] ðŸ”— block reached canonical chain          number=1 hash=5d37e3â€¦aaa433
INFO [03-19|21:04:06] ðŸ”¨ mined potential block                  number=6 hash=8d31e5â€¦3e8f3d
INFO [03-19|21:04:06] Commit new mining work                   number=7 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:08] Successfully sealed new block            number=7 hash=5f9d01â€¦1caea2
INFO [03-19|21:04:08] ðŸ”— block reached canonical chain          number=2 hash=4d4da9â€¦078c0b
INFO [03-19|21:04:08] ðŸ”¨ mined potential block                  number=7 hash=5f9d01â€¦1caea2
INFO [03-19|21:04:08] Commit new mining work                   number=8 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:08] Successfully sealed new block            number=8 hash=5d3e25â€¦559a6d
INFO [03-19|21:04:08] ðŸ”— block reached canonical chain          number=3 hash=a39baeâ€¦efb2a7
INFO [03-19|21:04:08] ðŸ”¨ mined potential block                  number=8 hash=5d3e25â€¦559a6d
INFO [03-19|21:04:08] Commit new mining work                   number=9 txs=0 uncles=0 elapsed=1.000ms
INFO [03-19|21:04:09] Successfully sealed new block            number=9 hash=c740deâ€¦7c0f81
INFO [03-19|21:04:09] ðŸ”— block reached canonical chain          number=4 hash=2dcbfbâ€¦0027ea
INFO [03-19|21:04:09] ðŸ”¨ mined potential block                  number=9 hash=c740deâ€¦7c0f81
INFO [03-19|21:04:09] Commit new mining work                   number=10 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:10] Generating DAG in progress               epoch=1 percentage=3  elapsed=29.448s
INFO [03-19|21:04:12] Successfully sealed new block            number=10 hash=ff779eâ€¦e815e1
INFO [03-19|21:04:12] ðŸ”— block reached canonical chain          number=5  hash=73695bâ€¦ff4045
INFO [03-19|21:04:12] ðŸ”¨ mined potential block                  number=10 hash=ff779eâ€¦e815e1
INFO [03-19|21:04:12] Commit new mining work                   number=11 txs=0 uncles=0 elapsed=141.008ms
INFO [03-19|21:04:14] Successfully sealed new block            number=11 hash=e5b839â€¦98b383
INFO [03-19|21:04:14] ðŸ”— block reached canonical chain          number=6  hash=8d31e5â€¦3e8f3d
INFO [03-19|21:04:14] ðŸ”¨ mined potential block                  number=11 hash=e5b839â€¦98b383
INFO [03-19|21:04:14] Commit new mining work                   number=12 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:14] Successfully sealed new block            number=12 hash=1bd8c5â€¦05fcd3
INFO [03-19|21:04:14] ðŸ”— block reached canonical chain          number=7  hash=5f9d01â€¦1caea2
INFO [03-19|21:04:14] ðŸ”¨ mined potential block                  number=12 hash=1bd8c5â€¦05fcd3
INFO [03-19|21:04:14] Commit new mining work                   number=13 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:18] Generating DAG in progress               epoch=1 percentage=4  elapsed=36.693s
INFO [03-19|21:04:18] Successfully sealed new block            number=13 hash=f12295â€¦0e6af8
INFO [03-19|21:04:18] ðŸ”— block reached canonical chain          number=8  hash=5d3e25â€¦559a6d
INFO [03-19|21:04:18] ðŸ”¨ mined potential block                  number=13 hash=f12295â€¦0e6af8
INFO [03-19|21:04:18] Commit new mining work                   number=14 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:23] Successfully sealed new block            number=14 hash=02a0d9â€¦527fe0
INFO [03-19|21:04:23] ðŸ”— block reached canonical chain          number=9  hash=c740deâ€¦7c0f81
INFO [03-19|21:04:23] ðŸ”¨ mined potential block                  number=14 hash=02a0d9â€¦527fe0
INFO [03-19|21:04:23] Commit new mining work                   number=15 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:26] Generating DAG in progress               epoch=1 percentage=5  elapsed=44.956s
INFO [03-19|21:04:26] Successfully sealed new block            number=15 hash=fa30d6â€¦fd420b
INFO [03-19|21:04:26] ðŸ”— block reached canonical chain          number=10 hash=ff779eâ€¦e815e1
INFO [03-19|21:04:26] ðŸ”¨ mined potential block                  number=15 hash=fa30d6â€¦fd420b
INFO [03-19|21:04:26] Commit new mining work                   number=16 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:26] Successfully sealed new block            number=16 hash=a95cfaâ€¦7c0c22
INFO [03-19|21:04:26] ðŸ”— block reached canonical chain          number=11 hash=e5b839â€¦98b383
INFO [03-19|21:04:26] ðŸ”¨ mined potential block                  number=16 hash=a95cfaâ€¦7c0c22
INFO [03-19|21:04:26] Commit new mining work                   number=17 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:26] Successfully sealed new block            number=17 hash=61bc84â€¦708480
INFO [03-19|21:04:26] ðŸ”— block reached canonical chain          number=12 hash=1bd8c5â€¦05fcd3
INFO [03-19|21:04:26] ðŸ”¨ mined potential block                  number=17 hash=61bc84â€¦708480
INFO [03-19|21:04:26] Mining too far in the future             wait=2s
INFO [03-19|21:04:29] Commit new mining work                   number=18 txs=0 uncles=0 elapsed=2.099s
INFO [03-19|21:04:31] Successfully sealed new block            number=18 hash=d0c4acâ€¦a34def
INFO [03-19|21:04:31] ðŸ”— block reached canonical chain          number=13 hash=f12295â€¦0e6af8
INFO [03-19|21:04:31] ðŸ”¨ mined potential block                  number=18 hash=d0c4acâ€¦a34def
INFO [03-19|21:04:31] Generating DAG in progress               epoch=1 percentage=6  elapsed=50.523s
INFO [03-19|21:04:32] Commit new mining work                   number=19 txs=0 uncles=0 elapsed=0s
INFO [03-19|21:04:36] Generating DAG in progress               epoch=1 percentage=7  elapsed=54.569s
INFO [03-19|21:04:39] Generating DAG in progress               epoch=1 percentage=8  elapsed=58.061s
INFO [03-19|21:04:43] Generating DAG in progress               epoch=1 percentage=9  elapsed=1m1.591s
INFO [03-19|21:04:47] Generating DAG in progress               epoch=1 percentage=10 elapsed=1m5.617s
INFO [03-19|21:04:50] Generating DAG in progress               epoch=1 percentage=11 elapsed=1m9.429s
INFO [03-19|21:04:54] Generating DAG in progress               epoch=1 percentage=12 elapsed=1m13.523s
INFO [03-19|21:04:58] Generating DAG in progress               epoch=1 percentage=13 elapsed=1m17.091s
INFO [03-19|21:05:01] Generating DAG in progress               epoch=1 percentage=14 elapsed=1m20.518s
INFO [03-19|21:05:05] Generating DAG in progress               epoch=1 percentage=15 elapsed=1m24.352s
INFO [03-19|21:05:09] Generating DAG in progress               epoch=1 percentage=16 elapsed=1m28.043s
INFO [03-19|21:05:13] Generating DAG in progress               epoch=1 percentage=17 elapsed=1m31.621s
INFO [03-19|21:05:16] Generating DAG in progress               epoch=1 percentage=18 elapsed=1m35.314s
INFO [03-19|21:05:20] Generating DAG in progress               epoch=1 percentage=19 elapsed=1m38.909s
INFO [03-19|21:05:23] Generating DAG in progress               epoch=1 percentage=20 elapsed=1m42.363s
INFO [03-19|21:05:27] Generating DAG in progress               epoch=1 percentage=21 elapsed=1m45.814s
INFO [03-19|21:05:30] Generating DAG in progress               epoch=1 percentage=22 elapsed=1m49.243s
INFO [03-19|21:05:34] Generating DAG in progress               epoch=1 percentage=23 elapsed=1m52.619s
INFO [03-19|21:05:37] Generating DAG in progress               epoch=1 percentage=24 elapsed=1m56.088s
INFO [03-19|21:05:41] Generating DAG in progress               epoch=1 percentage=25 elapsed=1m59.862s
INFO [03-19|21:05:44] Generating DAG in progress               epoch=1 percentage=26 elapsed=2m3.367s
INFO [03-19|21:05:48] Generating DAG in progress               epoch=1 percentage=27 elapsed=2m6.964s
INFO [03-19|21:05:51] Generating DAG in progress               epoch=1 percentage=28 elapsed=2m10.400s
INFO [03-19|21:05:55] Generating DAG in progress               epoch=1 percentage=29 elapsed=2m13.947s
INFO [03-19|21:05:58] Generating DAG in progress               epoch=1 percentage=30 elapsed=2m17.511s
INFO [03-19|21:06:02] Generating DAG in progress               epoch=1 percentage=31 elapsed=2m21.032s
INFO [03-19|21:06:06] Generating DAG in progress               epoch=1 percentage=32 elapsed=2m24.593s
INFO [03-19|21:06:09] Generating DAG in progress               epoch=1 percentage=33 elapsed=2m28.113s
INFO [03-19|21:06:13] Generating DAG in progress               epoch=1 percentage=34 elapsed=2m31.686s
INFO [03-19|21:06:16] Generating DAG in progress               epoch=1 percentage=35 elapsed=2m35.244s
INFO [03-19|21:06:20] Generating DAG in progress               epoch=1 percentage=36 elapsed=2m38.774s
INFO [03-19|21:06:24] Generating DAG in progress               epoch=1 percentage=37 elapsed=2m42.720s
INFO [03-19|21:06:28] Generating DAG in progress               epoch=1 percentage=38 elapsed=2m46.584s
INFO [03-19|21:06:31] Generating DAG in progress               epoch=1 percentage=39 elapsed=2m50.176s
INFO [03-19|21:06:35] Generating DAG in progress               epoch=1 percentage=40 elapsed=2m53.729s
INFO [03-19|21:06:38] Generating DAG in progress               epoch=1 percentage=41 elapsed=2m57.371s
INFO [03-19|21:06:42] Generating DAG in progress               epoch=1 percentage=42 elapsed=3m0.972s
INFO [03-19|21:06:46] Generating DAG in progress               epoch=1 percentage=43 elapsed=3m4.625s
INFO [03-19|21:06:49] Generating DAG in progress               epoch=1 percentage=44 elapsed=3m8.263s
INFO [03-19|21:06:53] Generating DAG in progress               epoch=1 percentage=45 elapsed=3m11.768s
INFO [03-19|21:06:56] Generating DAG in progress               epoch=1 percentage=46 elapsed=3m15.419s
INFO [03-19|21:07:00] Generating DAG in progress               epoch=1 percentage=47 elapsed=3m18.946s
INFO [03-19|21:07:04] Generating DAG in progress               epoch=1 percentage=48 elapsed=3m22.744s
INFO [03-19|21:07:07] Generating DAG in progress               epoch=1 percentage=49 elapsed=3m26.361s
INFO [03-19|21:07:11] Generating DAG in progress               epoch=1 percentage=50 elapsed=3m29.902s
INFO [03-19|21:07:14] Generating DAG in progress               epoch=1 percentage=51 elapsed=3m33.437s
INFO [03-19|21:07:18] Generating DAG in progress               epoch=1 percentage=52 elapsed=3m37.135s
INFO [03-19|21:07:22] Generating DAG in progress               epoch=1 percentage=53 elapsed=3m40.922s
INFO [03-19|21:07:25] Generating DAG in progress               epoch=1 percentage=54 elapsed=3m44.410s
INFO [03-19|21:07:29] Generating DAG in progress               epoch=1 percentage=55 elapsed=3m47.983s
INFO [03-19|21:07:33] Generating DAG in progress               epoch=1 percentage=56 elapsed=3m51.589s
INFO [03-19|21:07:36] Generating DAG in progress               epoch=1 percentage=57 elapsed=3m55.478s
INFO [03-19|21:07:40] Generating DAG in progress               epoch=1 percentage=58 elapsed=3m59.399s
INFO [03-19|21:07:44] Generating DAG in progress               epoch=1 percentage=59 elapsed=4m2.985s
INFO [03-19|21:07:47] Generating DAG in progress               epoch=1 percentage=60 elapsed=4m6.508s
INFO [03-19|21:07:51] Generating DAG in progress               epoch=1 percentage=61 elapsed=4m10.039s
INFO [03-19|21:07:55] Generating DAG in progress               epoch=1 percentage=62 elapsed=4m13.608s
INFO [03-19|21:07:58] Generating DAG in progress               epoch=1 percentage=63 elapsed=4m17.174s
INFO [03-19|21:08:02] Generating DAG in progress               epoch=1 percentage=64 elapsed=4m20.902s
INFO [03-19|21:08:05] Generating DAG in progress               epoch=1 percentage=65 elapsed=4m24.456s
INFO [03-19|21:08:09] Generating DAG in progress               epoch=1 percentage=66 elapsed=4m27.996s
INFO [03-19|21:08:13] Generating DAG in progress               epoch=1 percentage=67 elapsed=4m31.673s
INFO [03-19|21:08:16] Generating DAG in progress               epoch=1 percentage=68 elapsed=4m35.354s
INFO [03-19|21:08:20] Generating DAG in progress               epoch=1 percentage=69 elapsed=4m39.190s
INFO [03-19|21:08:24] Generating DAG in progress               epoch=1 percentage=70 elapsed=4m43.105s
INFO [03-19|21:08:31] Generating DAG in progress               epoch=1 percentage=71 elapsed=4m50.369s
INFO [03-19|21:08:35] Generating DAG in progress               epoch=1 percentage=72 elapsed=4m53.948s
INFO [03-19|21:08:38] Generating DAG in progress               epoch=1 percentage=73 elapsed=4m57.372s
INFO [03-19|21:08:42] Generating DAG in progress               epoch=1 percentage=74 elapsed=5m0.876s
INFO [03-19|21:08:45] Generating DAG in progress               epoch=1 percentage=75 elapsed=5m4.317s
INFO [03-19|21:08:49] Generating DAG in progress               epoch=1 percentage=76 elapsed=5m7.719s
INFO [03-19|21:08:52] Generating DAG in progress               epoch=1 percentage=77 elapsed=5m11.113s
INFO [03-19|21:08:56] Generating DAG in progress               epoch=1 percentage=78 elapsed=5m14.559s
INFO [03-19|21:08:59] Generating DAG in progress               epoch=1 percentage=79 elapsed=5m18.024s
INFO [03-19|21:09:02] Generating DAG in progress               epoch=1 percentage=80 elapsed=5m21.481s
INFO [03-19|21:09:06] Generating DAG in progress               epoch=1 percentage=81 elapsed=5m24.905s
INFO [03-19|21:09:09] Generating DAG in progress               epoch=1 percentage=82 elapsed=5m28.377s
INFO [03-19|21:09:13] Generating DAG in progress               epoch=1 percentage=83 elapsed=5m31.858s
INFO [03-19|21:09:16] Generating DAG in progress               epoch=1 percentage=84 elapsed=5m35.476s
INFO [03-19|21:09:20] Generating DAG in progress               epoch=1 percentage=85 elapsed=5m38.944s
INFO [03-19|21:09:24] Generating DAG in progress               epoch=1 percentage=86 elapsed=5m42.605s
INFO [03-19|21:09:27] Generating DAG in progress               epoch=1 percentage=87 elapsed=5m46.334s
INFO [03-19|21:09:31] Generating DAG in progress               epoch=1 percentage=88 elapsed=5m49.908s
INFO [03-19|21:09:34] Generating DAG in progress               epoch=1 percentage=89 elapsed=5m53.448s
INFO [03-19|21:09:38] Generating DAG in progress               epoch=1 percentage=90 elapsed=5m57.032s
INFO [03-19|21:09:42] Generating DAG in progress               epoch=1 percentage=91 elapsed=6m0.574s
INFO [03-19|21:09:45] Generating DAG in progress               epoch=1 percentage=92 elapsed=6m4.095s
INFO [03-19|21:09:49] Generating DAG in progress               epoch=1 percentage=93 elapsed=6m7.633s
INFO [03-19|21:09:53] Generating DAG in progress               epoch=1 percentage=94 elapsed=6m11.551s
INFO [03-19|21:09:56] Generating DAG in progress               epoch=1 percentage=95 elapsed=6m15.118s
INFO [03-19|21:10:00] Generating DAG in progress               epoch=1 percentage=96 elapsed=6m18.557s
INFO [03-19|21:10:03] Generating DAG in progress               epoch=1 percentage=97 elapsed=6m21.952s
INFO [03-19|21:10:06] Generating DAG in progress               epoch=1 percentage=98 elapsed=6m25.326s
INFO [03-19|21:10:10] Generating DAG in progress               epoch=1 percentage=99 elapsed=6m28.851s
INFO [03-19|21:10:10] Generated ethash verification cache      epoch=1 elapsed=6m28.856s
> eth.getBalance(a0)
1.079e+21
> eth.getBalance(a1)
10000000000000000000

> web3.fromWei(eth.getBalance(a0))
1079
> web3.fromWei(eth.getBalance(a1))
10
> INFO [03-19|21:55:34] Regenerated local transaction journal    transactions=0 accounts=0
```

```
PS C:\Program Files\Geth> geth attach \\.\pipe\geth.ipc
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.3-stable-329ac18e/windows-amd64/go1.10
coinbase: 0x8f653457d24796d1324149ecc7d5dfe0671d6c1b
at block: 0 (Thu, 01 Jan 1970 08:00:00 CST)
 datadir: C:\Program Files\Geth\chain1
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

> miner.start()
null
> miner.stop()
true

```

æ­¤æ—¶å†ç”¨eth.getBalanceæŸ¥ä¸¤ä¸ªå¸æˆ·çš„ä½™é¢ï¼Œå‘çŽ°å¸æˆ·1æ”¶åˆ°äº†10ä¸ªä»¥å¤ªå¸ï¼Œå¸æˆ·0çš„ä½™é¢åè€Œå¢žåŠ äº†ï¼Œå› ä¸ºæŒ–çŸ¿å¥–åŠ±é»˜è®¤å­˜å…¥å¸æˆ·0

# 3.éƒ¨ç½²æ™ºèƒ½åˆçº¦

## 3.1 remix

[remix](http://remix.ethereum.org/) remix-ide æ˜¯ä¸€ä¸ªæµè§ˆå™¨ç‰ˆçš„solidityå¼€å‘ IDEï¼Œä½ å¯ä»¥ä½¿ç”¨[åœ¨çº¿ç‰ˆçš„](https://remix.ethereum.org/)ä¹Ÿå¯ä»¥[ä¸‹è½½]( https://github.com/ethereum/remix-ide )å®‰è£…åˆ°æœ¬åœ°ã€‚

Solidityï¼šç±»ä¼¼JavaScriptï¼Œè¿™æ˜¯ä»¥å¤ªåŠå®˜æ–¹æŽ¨èè¯­è¨€ï¼Œä¹Ÿæ˜¯æœ€æµè¡Œçš„æ™ºèƒ½åˆçº¦è¯­è¨€ã€‚å…·ä½“ç”¨æ³•å‚è€ƒ[Solidityæ–‡æ¡£åœ°å€](https://solidity.readthedocs.io/en/latest/)

åˆšå¼€å§‹å­¦ï¼Œæˆ‘åœ¨webç«¯ä½¿ç”¨çš„ã€‚

## 3.2  ç¼–å†™åˆçº¦

```solidity
pragma solidity ^0.4.0;
//å£°æ˜Žsolidityçš„ç‰ˆæœ¬

contract Mod100{
//å£°æ˜Žåˆçº¦åç§°
        event Print(uint);
        function Mod(uint input) returns (uint) {
        //å®šä¹‰å‡½æ•°

                Print(input % 100);

                return input % 100;
		//è¾“å‡ºç»“æžœ
        }

}
```

è°ƒç”¨æ–¹æ³•ï¼š

```
> mod100.Mod.call(122)
22
```

## 3.3 ç¼–è¯‘

åœ¨remixä¸Šç¼–è¯‘æ™ºèƒ½åˆçº¦ï¼Œç¼–è¯‘äº§ç”Ÿçš„æ ¼å¼é€‰æ‹©WEB3DEPLOYã€‚

---

web3æ˜¯åŸºäºŽä»¥å¤ªåŠçš„Javascript APIï¼Œå¯ä»¥ä½¿ç”¨HTTPæˆ–IPCè¿žæŽ¥æœ¬åœ°æˆ–è¿œç¨‹ä»¥å¤ªå®ƒèŠ‚ç‚¹è¿›è¡Œäº¤äº’ã€‚ web3çš„JavaScriptåº“èƒ½å¤Ÿä¸Žä»¥å¤ªåŠåŒºå—é“¾äº¤äº’ã€‚ å®ƒå¯ä»¥æ£€ç´¢ç”¨æˆ·å¸æˆ·ï¼Œå‘é€äº¤æ˜“ï¼Œä¸Žæ™ºèƒ½åˆçº¦äº¤äº’ç­‰ã€‚

---

ä¸Šé¢çš„å–æ¨¡åˆçº¦çš„web3æ ¼å¼ç¼–è¯‘ç»“æžœå¦‚ä¸‹

```js
var mod100Contract = web3.eth.contract([{"constant":false,"inputs":[{"name":"input","type":"uint256"}],"name":"Mod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"","type":"uint256"}],"name":"Print","type":"event"}]);
var mod100 = mod100Contract.new(
   {
     from: web3.eth.accounts[0], 
     data: '0x608060405234801561001057600080fd5b50610105806100206000396000f300608060405260043610603f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680635669f823146044575b600080fd5b348015604f57600080fd5b50606c600480360381019080803590602001909291905050506082565b6040518082815260200191505060405180910390f35b60007f24abdb5865df5079dcc5ac590ff6f01d5c16edbc5fab4e195d9febd1114503da60648381151560b057fe5b066040518082815260200191505060405180910390a160648281151560d157fe5b0690509190505600a165627a7a7230582018f07efe6ee8c38719e7ba7c974a26a23c1615ca565d08b5a7b30936483795c00029', 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })
```

ç„¶åŽå°†å…¶å¤åˆ¶åˆ°gethå‘½ä»¤è¡Œè¿è¡Œã€‚

## 3.4 gethæ­¥éª¤

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†è¦éƒ¨ç½²åˆçº¦çš„è´¦æˆ·è§£é”ï¼Œå¦‚æžœåˆçº¦éƒ¨ç½²ä¸æˆåŠŸï¼Œå¤šåŠæ˜¯å› ä¸ºè´¦æˆ·é”å®šäº†

```
personal.unlockAccount(eth.accounts[0])
```

æˆåŠŸçš„ç»“æžœå¦‚ä¸‹æ‰€ç¤ºï¼š

```
> mod100
{
  abi: [{
      constant: false,
      inputs: [{...}],
      name: "Mod",
      outputs: [{...}],
      payable: false,
      stateMutability: "nonpayable",
      type: "function"
  }, {
      anonymous: false,
      inputs: [{...}],
      name: "Print",
      type: "event"
  }],
  address: undefined,
  transactionHash: "0x448fc7eddd850c790cbfa6e02651bf8a69120bbcb2daccf7cfa5e7428961ee13"
}
```

ç„¶åŽéœ€è¦é€šè¿‡æŒ–çŸ¿æ¥ä½¿åˆçº¦ç”Ÿæ•ˆï¼Œè¶…è¿‡12ä¸ªå—ï¼Œå‘½ä»¤å¦‚ä¸‹

```shell
miner.start(1);admin.sleepBlocks(13);miner.stop()
```

ç»“æžœå¦‚ä¸‹

```
> mod100.Mod.call(122)
22
> mod100.Mod.call(1737813678)
78
>
```

